<!DOCTYPE html>
<html lang="vi">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title><%= title %></title>
        <link rel="stylesheet" href="/stylesheets/style.css" />
    </head>

    <body>
        <!-- Stars universe background -->
        <div class="stars-container" id="starsContainer">
            <!-- Stars will be generated by JavaScript -->
        </div>
        
        <!-- Fireworks celebration container -->
        <div class="fireworks-container" id="fireworksContainer">
            <!-- Fireworks will be generated by JavaScript -->
        </div>
        
        <div class="container">
            <h1 class="title"><span class="rainbow-text">T√¨m ki·∫øm h√¨nh ·∫£nh</span></h1>
            <div class="card">
                <h3>Upload h√¨nh ·∫£nh</h3>
                <form id="uploadForm">
                    <label>Ch·ªçn h√¨nh ·∫£nh (jpeg, png, gif, webp, ‚â§10MB)</label>
                    <input id="imageInput" name="image" type="file" accept="image/jpeg,image/png,image/gif,image/webp" required />
                    <label>Ti√™u ƒë·ªÅ</label>
                    <input name="title" type="text" placeholder="Ti√™u ƒë·ªÅ (t√πy ch·ªçn)" />
                    <label>M√¥ t·∫£</label>
                    <textarea name="description" placeholder="M√¥ t·∫£ (t√πy ch·ªçn)"></textarea>
                    <label>Tags (ph√¢n t√°ch b·ªüi d·∫•u ph·∫©y)</label>
                    <input name="tags" type="text" placeholder="vd: cat, animal" />
                    <div class="sep"></div>
                    <div class="flex">
                        <button class="btn btn-grad" id="uploadBtn" type="submit">Upload</button>
                        <span id="uploadMsg" class="muted"></span>
                    </div>
                </form>
            </div>

            <div class="card">
                <h3>T√¨m ki·∫øm</h3>
                <form id="unifiedSearch" class="flex" enctype="multipart/form-data" style="gap: 8px; align-items: stretch">
                    <input id="q" type="text" placeholder="Nh·∫≠p t·ª´ kh√≥a... (ƒë·ªÉ tr·ªëng n·∫øu t√¨m b·∫±ng ·∫£nh)" />
                    <button id="cameraBtnUnified" class="btn btn-search" type="button" title="T√¨m b·∫±ng h√¨nh ·∫£nh">üì∑</button>
                    <input id="imageInputUnified" name="image" type="file" accept="image/*" style="display: none" />
                    <input id="imgUrlUnified" type="text" placeholder="URL ·∫£nh (t√πy ch·ªçn)" />
                    <select id="method" title="Ph∆∞∆°ng ph√°p">
                        <option value="auto" selected>T·ª± ƒë·ªông</option>
                        <option value="hash">Hash</option>
                        <option value="color">Color</option>
                        <option value="clip">CLIP (ng·ªØ nghƒ©a)</option>
                    </select>
                    <button id="searchBtn" class="btn btn-grad" type="submit">T√¨m</button>
                </form>
                <div class="muted">Ch·ªçn ·∫£nh b·∫±ng üì∑ ho·∫∑c d√°n URL; n·∫øu kh√¥ng c√≥ ·∫£nh, h·ªá th·ªëng s·∫Ω t√¨m theo t·ª´ kh√≥a. Ph∆∞∆°ng ph√°p "T·ª± ƒë·ªông" ∆∞u ti√™n CLIP.</div>

                <div class="card" id="previewCard" style="margin-top: 12px; display: none;">
                    <h4>üñºÔ∏è ·∫¢nh ƒëang t√¨m ki·∫øm:</h4>
                    <div class="preview-wrapper">
                        <img id="queryPath" src="" alt="Preview" style="display: none;" loading="lazy">
                        <button id="removePreviewBtn" class="remove-preview-btn" title="G·ª° ·∫£nh truy v·∫•n">‚úï</button>
                    </div>
                </div>

                <div id="resultsInfo" class="muted" style="margin-top: 8px"></div>
                <div id="results" class="grid" style="margin-top: 12px"></div>
                <div id="pagination" class="pagination" style="margin-top: 12px"></div>
            </div>
        </div>

        <script type="text/javascript" src="/javascripts/style.js" defer></script>
        <script type="text/javascript" src="/javascripts/script.js" defer></script>
    </body>
</html>
